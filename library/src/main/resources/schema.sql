DROP TABLE IF EXISTS Authors CASCADE;
DROP TABLE IF EXISTS Books CASCADE;
DROP TABLE IF EXISTS Genres CASCADE;
DROP TABLE If EXISTS Authors_books CASCADE;

CREATE TABLE IF NOT EXISTS Authors (
  id SERIAL PRIMARY KEY,
  first_name VARCHAR(255),
  last_name VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS Genres (
  id SERIAL PRIMARY KEY,
  name VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS Books (
  id SERIAL PRIMARY KEY,
  name VARCHAR(255),
  isbn VARCHAR(255),
  genre_id INT REFERENCES Genres(id)
);

CREATE TABLE IF NOT EXISTS Authors_books (
  author_id INT NOT NULL REFERENCES Authors(id) ON DELETE CASCADE,
  book_id INT NOT NULL REFERENCES Books(id) ON DELETE CASCADE,
  UNIQUE (author_id, book_id)
);